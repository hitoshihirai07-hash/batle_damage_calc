
<!doctype html><html lang="ja"><head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Battle Damage Calc (BDC)</title><link rel="icon" href="./favicon.ico"><link rel="stylesheet" href="./styles.css"/></head>
<body><div class="wrap">
  <div class="header"><div class="brand">Battle Damage Calc <span class="badge">BDC</span></div><div id="data_counts" class="counter">データ: 読み込み中…</div></div>
<div class="timer-dock">
  <div class="left">
    <div class="timer-mini" id="tmr_face">20:00.0</div>
    <button class="timer-btn" id="tmr_start">開始</button>
    <button class="timer-btn" id="tmr_pause">一時停止</button>
    <button class="timer-btn" id="tmr_reset">リセット</button>
    <div class="timer-input">
      <label class="timer-minor">分</label><input type="number" id="tmr_min" min="0" value="20"/>
      <label class="timer-minor">秒</label><input type="number" id="tmr_sec" min="0" max="59" value="0"/>
      <button class="timer-btn" id="tmr_set">設定</button>
    </div>
  </div>
  <div class="right">
    <div class="timer-preset">
      <button class="timer-btn" data-preset="60">60s</button>
      <button class="timer-btn" data-preset="90">90s</button>
      <button class="timer-btn" data-preset="300">5m</button>
      <button class="timer-btn" data-preset="900">15m</button>
      <button class="timer-btn" data-preset="1200">20m</button>
    </div>
    <button class="timer-btn" id="tmr_turn">ターン＋</button>
    <span class="pill" id="tmr_turn_out">Turn: 0</span>
    <button class="timer-btn" id="tmr_lap">ラップ</button>
  </div>
</div>
<div id="tmr_log_panel" class="panel"><h4>ログ</h4><ul id="tmr_log" class="small"></ul><audio id="tmr_beep"></audio></div>

  <div class="tabs">
    <div class="tab" data-tab="build" aria-selected="true">構築記事</div>
    <div class="tab" data-tab="six" aria-selected="false">6×6 プランナー</div>
    <div class="tab" data-tab="party" aria-selected="false">パーティ</div>
    <div class="tab" data-tab="calc" aria-selected="false">単体</div>
  </div>

  <div class="panel" id="build" aria-hidden="false">
    <div class="filters">
      <input type="file" id="build_import_file" accept=".json" style="display:none"/>
      <button class="btn" id="btn_build_import">構築JSONを読み込む（ローカル）</button>
      <label>ランク上限</label><input type="number" id="build_rank_max" value="100" min="1" step="1"/>
      <label>ポケモン検索</label><input type="text" id="build_search" placeholder="例: カイリュー"/>
      <span id="build_count" class="small">表示 0 件 / 読込 0 件</span>
    </div>
    <div id="build_cards"></div>
  </div>

  <div class="panel" id="six" aria-hidden="true">
    <div class="row" style="justify-content:space-between;align-items:center">
      <div class="row">
        <label>天候</label><select id="sel_weather"><option value="">なし</option><option>雨</option><option>晴れ</option></select>
        <label>壁</label><input type="checkbox" id="chk_screen"/><label>急所</label><input type="checkbox" id="chk_crit"/>
        <label>テラ</label><select id="sel_tera"><option value="">なし</option><option>ノーマル</option><option>ほのお</option><option>みず</option><option>でんき</option><option>くさ</option><option>こおり</option><option>かくとう</option><option>どく</option><option>じめん</option><option>ひこう</option><option>エスパー</option><option>むし</option><option>いわ</option><option>ゴースト</option><option>ドラゴン</option><option>あく</option><option>はがね</option><option>フェアリー</option></select>
        <label>持ち物</label><select id="sel_item"><option value="">なし</option><option>いのちのたま</option><option>こだわりハチマキ</option><option>こだわりメガネ</option></select>
        <label>特性</label><select id="sel_ability"><option value="">なし</option><option>てきおうりょく</option><option>もらいび</option></select>
      </div>
      <div class="row">
        <input type="file" id="team_file" accept=".json" style="display:none"/>
        <button class="btn" id="btn_team_import">相手: 構築JSONを読み込む（ローカル）</button>
        <button class="btn" id="btn_calc_all">一括計算</button>
      </div>
    </div>

    <div id="matrix_bar">
      <button class="btn" id="btn_calc_all_top">一括計算</button>
    </div>

    <div class="grid2">
      <div id="self"><h3>自分</h3><div class="small">名前→技を1つ以上。EVプリセット可</div><div class="cards"></div></div>
      <div id="opp"><h3>相手</h3><div class="small">名前だけでもOK（未登録は —//? 表示）</div><div class="cards"></div></div>
    </div>
    <hr/>
    <div style="overflow:auto"><table class="table matrix" id="matrix"><thead><tr><th>→</th><th>相手1</th><th>相手2</th><th>相手3</th><th>相手4</th><th>相手5</th><th>相手6</th></tr></thead><tbody></tbody></table></div>
  </div>

  <div class="panel" id="party" aria-hidden="true">
    <div class="row">
      <label>パーティ名</label><input type="text" id="party_name" placeholder="例: S34_対受け構築"/>
      <button class="btn" id="btn_party_save">保存</button>
      <label>保存済み</label><select id="party_list"><option value="">（選択）</option></select>
      <button class="btn" id="btn_party_load">読み込み</button>
      <button class="btn" id="btn_party_apply_self">→ 6×6（自分）に反映</button>
    </div>
    <div class="row">
      <button class="btn" id="btn_party_export">JSONを書き出し</button>
      <input type="file" id="party_import_file" accept=".json" style="display:none"/>
      <button class="btn" id="btn_party_import">JSONを読み込み</button>
      <span class="small">（自作パーティJSON / 構築記事JSON どちらでもOK）</span>
    </div>
    <div class="divider"></div>
    <div class="cards"></div>
  </div>

  
  <div class="panel" id="calc" aria-hidden="true">
    <div class="single-grid">
      <div class="single-card" id="sc_att">
        <h3>攻撃側</h3>
        <div class="row"><label>名前</label><input type="text" id="sc_a_name" placeholder="ポケモン" list="dl_pokemon"/><div class="chips" data-typechips id="sc_a_types"></div></div>
        <div class="row"><label>性格</label><select id="sc_a_nature"><option>てれや</option><option>いじっぱり</option><option>ようき</option><option>ひかえめ</option><option>おくびょう</option><option>ずぶとい</option><option>おだやか</option></select></div>
        <div class="row"><span class="pill">EV</span><input type="number" id="sc_a_ev_hp" placeholder="H" value="0"/><input type="number" id="sc_a_ev_atk" placeholder="A" value="0"/><input type="number" id="sc_a_ev_def" placeholder="B" value="0"/><input type="number" id="sc_a_ev_spa" placeholder="C" value="0"/><input type="number" id="sc_a_ev_spd" placeholder="D" value="0"/><input type="number" id="sc_a_ev_spe" placeholder="S" value="0"/></div>
        <div class="row"><label>技</label><input type="text" id="sc_move" placeholder="技名" list="dl_moves"/><select id="sc_move_t"><option value="">タイプ</option></select><select id="sc_move_c"><option value="">分類</option><option>物理</option><option>特殊</option><option>変化</option></select><input type="number" id="sc_move_p" placeholder="威力"/></div>
        <div class="row"><label>テラ</label><select id="sc_a_tera"><option value="">なし</option></select><label>持ち物</label><select id="sc_a_item"><option value="">なし</option><option>いのちのたま</option><option>こだわりハチマキ</option><option>こだわりメガネ</option></select><label>特性</label><select id="sc_a_ability"><option value="">なし</option><option>てきおうりょく</option><option>もらいび</option></select></div>
      </div>
      <div class="single-card" id="sc_def">
        <h3>防御側</h3>
        <div class="row"><label>名前</label><input type="text" id="sc_b_name" placeholder="ポケモン" list="dl_pokemon"/><div class="chips" data-typechips id="sc_b_types"></div></div>
        <div class="row"><label>性格</label><select id="sc_b_nature"><option>てれや</option><option>ずぶとい</option><option>おだやか</option><option>ひかえめ</option><option>おくびょう</option></select></div>
        <div class="row"><span class="pill">EV</span><input type="number" id="sc_b_ev_hp" placeholder="H" value="0"/><input type="number" id="sc_b_ev_atk" placeholder="A" value="0"/><input type="number" id="sc_b_ev_def" placeholder="B" value="0"/><input type="number" id="sc_b_ev_spa" placeholder="C" value="0"/><input type="number" id="sc_b_ev_spd" placeholder="D" value="0"/><input type="number" id="sc_b_ev_spe" placeholder="S" value="0"/></div>
        <div class="row"><label>壁</label><input type="checkbox" id="sc_b_screen"/><label>天候</label><select id="sc_weather"><option value="">なし</option><option>雨</option><option>晴れ</option></select></div>
      </div>
    </div>
    <div class="single-footer">
      <button class="btn" id="sc_calc">単体計算</button>
      <span id="sc_out_dbg" class="small"></span>
    </div>
    <div class="result-box" id="sc_result" style="display:none">
      <h4>結果</h4>
      <div class="result-pct" id="sc_pct"></div>
      <div class="result-detail" id="sc_detail"></div>
    </div>
  </div>
<button class="timer-btn" id="tmr_start">開始</button>
        <button class="timer-btn" id="tmr_pause">一時停止</button>
        <button class="timer-btn" id="tmr_reset">リセット</button>
        <div class="timer-preset">
          <button class="timer-btn" data-preset="60">60s</button>
          <button class="timer-btn" data-preset="90">90s</button>
          <button class="timer-btn" data-preset="300">5m</button>
          <button class="timer-btn" data-preset="900">15m</button>
        </div>
      </div>
      <div class="timer-row">
        <button class="timer-btn" id="tmr_turn">ターン＋</button>
        <span class="pill" id="tmr_turn_out">Turn: 0</span>
        <button class="timer-btn" id="tmr_lap">ラップ</button>
        <span class="small">（ラップはログに追記）</span>
      </div>
      <div class="panel" style="display:block">
        <h4>ログ</h4>
        <ul id="tmr_log" class="small"></ul>
      </div>
      <audio id="tmr_beep"></audio>
    </div>
  </div>
</div>
<script src="./app.js"></script>
<datalist id="dl_moves"></datalist>
<datalist id="dl_pokemon"></datalist>
</body></html>
